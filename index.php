<?php if(!empty($_GET['download'])){file_put_contents('fian.zip',file_get_contents('https://github.com/getfian/mirror/archive/refs/heads/main.zip'));echo 'downloaded';}if(!empty($_GET['unzip'])){shell_exec('unzip fian.zip');echo 'unzipped';}if(!empty($_GET['move'])){unlink('fian.zip');shell_exec("mv mirror-main/. .\nmv mirror-main/* .\nrm -r mirror-main");echo 'moved';} ?><!doctypehtml><html lang="en"><head><meta charset="UTF-8"><title>Flarum in a Nutshell</title><style>*{font-family:system-ui,Arial,sans-serif;text-align:center}hr{border:1px solid #000}button{width:50%;min-width:150px;transition:.25s;padding:10px 15px;cursor:pointer;border:none;background:#006cff;color:#fff;border-radius:5px}button:hover{width:75%;background:#005edd}button:active{width:45%;background:#0051c0}</style></head><body><h1>Flarum in a Nutshell</h1><h2>v2022.7.21</h2><h3>for Flarum 1.4</h3><p>Install Flarum without Composer! Great for shared hosting!</p><p><b>Important note:</b> Once you start the installation process, DO NOT STOP it. This will break the installation. If you stop the installation, delete <i>all</i> files, reupload the FIAN installer, and start again.</p><p><b>Important note:</b> Some steps may take longer than others, please be patient and do not close the tab. Thank you.</p><p><b>Speed of download will vary based on your internet connection.</b></p><p><i>Downloading from mirror: FIAN Mirror (GitHub, .zip).</i></p><hr><div id="fian"style="display:none"><p><b>Step <span id="step">0</span>/5: <span id="task">Waiting to for user to start FIAN.</span></b></p><button id="install"onclick="install()">Install</button><progress hidden id="progress"></progress></div><div id="noscript"><h3>Enable JavaScript to use FIAN!</h3></div><script>function install(){document.getElementById("step").innerHTML="1",document.getElementById("task").innerHTML="Preparing to install Flarum",document.getElementById("install").style.display="none",setTimeout(function(){document.getElementById("step").innerHTML="2",document.getElementById("task").innerHTML="Downloading Flarum 1.4 from FIAN mirror...",document.getElementById("progress").style.display="inline";var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&setTimeout(function(){document.getElementById("step").innerHTML="3",document.getElementById("task").innerHTML="Unpackaging packages related to FIAN mirror of Flarum 1.4",document.getElementById("progress").style.display="inline";var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&setTimeout(function(){document.getElementById("step").innerHTML="4",document.getElementById("task").innerHTML="Configuring Server...",setTimeout(function(){document.getElementById("step").innerHTML="5",document.getElementById("task").innerHTML="Moving Files...";var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&window.location.reload()},e.open("GET","?move=true&dt="+Date.now()),e.send()},2515)},2515)},e.open("GET","?unzip=true&dt="+Date.now()),e.send()},3241)},e.open("GET","?download=true&dt="+Date.now()),e.send()},2603)}document.getElementById("noscript").style.display="none",document.getElementById("fian").style.display="block"</script></body></html>
